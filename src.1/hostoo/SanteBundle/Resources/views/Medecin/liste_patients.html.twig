{% extends 'hostooSanteBundle::blank.html.twig' %}
{% block title %}Liste des Patients{% endblock %}
{% block titrepage %}Liste des Patients{% endblock %}
{% block menu %}
    {% include 'hostooSanteBundle:menus:menudoc.html.twig' %}
{% endblock %}
{% block body %}
    <div class="card-box">
        <table class="table table-striped">
            <thead>
            <tr>
                <th>Nom</th>
                <th>Postnom</th>
                <th>Prénom</th>
                <th>Date de Naissance</th>
                {#<th>Société</th>#}
                <th>Convention</th>
                <th>Visites</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            {% for patient in liste %}
                <tr>
                    <td>{{ patient.nom }}</td>
                    <td>{{ patient.postnom }}</td>
                    <td>{{ patient.prenom }}</td>
                    <td>{{ patient.datenaissance|date('d-m-Y') }}</td>
                    <td>{{ patient.societe.nom }}</td>
                    {#<td>{{ patient.societe.convention.nomconvention }}</td>#}
                    <td>{{ patient.episode|length }}</td>
                    <td>
                    <a href="{{ path('afficher_dossier_patient',{'patient':patient.id}) }}" class="btn btn-sm btn-info"><i class="fa fa-eye"></i> </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
{% block stylesheets %}
{{ parent() }}
    {% include "hostooSanteBundle:plugins:datatable.style.html.twig" %}
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    {% include "hostooSanteBundle:plugins:datatable.scripts.html.twig" %}
<script type="text/javascript">
    $(document).ready(function(){
        $('.table').dataTable({
            dom: "Bfrtip",
            buttons: [{extend: "copy", className: "btn-sm"}, {extend: "csv", className: "btn-sm"}, {
                extend: "excel",
                className: "btn-sm"
            }, {extend: "pdf", className: "btn-sm"}, {extend: "print", className: "btn-sm"}],
            responsive: !0
            ,language: {
                processing:     "Traitement en cours...",
                search:         "Rechercher&nbsp;:",
                lengthMenu:    "Afficher _MENU_ &eacute;l&eacute;ments",
                info:           "Affichage de l'&eacute;lement _START_ &agrave; _END_ sur _TOTAL_ &eacute;l&eacute;ments",
                infoEmpty:      "Affichage de l'&eacute;lement 0 &agrave; 0 sur 0 &eacute;l&eacute;ments",
                infoFiltered:   "(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)",
                infoPostFix:    "",
                loadingRecords: "Chargement en cours...",
                zeroRecords:    "Aucun &eacute;l&eacute;ment &agrave; afficher",
                emptyTable:     "Aucune donnée disponible dans le tableau",
                paginate: {
                    first:      "Premier",
                    previous:   "Pr&eacute;c&eacute;dent",
                    next:       "Suivant",
                    last:       "Dernier"
                },
                aria: {
                    sortAscending:  ": activer pour trier la colonne par ordre croissant",
                    sortDescending: ": activer pour trier la colonne par ordre décroissant"
                }}
        });
    });
</script>
{% endblock %}